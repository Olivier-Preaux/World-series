{% extends 'base.html.twig' %}

{% block title %}Program
{% endblock %}

{% block body %}
	<body>
		<div class='containerPage'>


			<div class="containershow">

				<div class='poster'>
					<img src="{{ program.poster }}" width="200"/>
				</div>
				<div class='programBlock'>
					<h1>{{ program.title }}
					</h1>

					<h2>{{ program.category.name }}</h2>
 				{% if app.user %}

                    <a id="watchlist" href="{{ path('program_watchlist', {'id': program.id})}}">
                        <i class="{{ app.user.isInWatchlist(program) ? 'fas' : 'far' }} fa-heart"></i>  </a>                 </a>

                {% endif %}

					<p></p>
					<p>
						<strong>Résumé :
						</strong>
						{{ program.summary }}</p>
				</div>
				<div class='actorBlock'>
					<p>
						<h2>Acteurs :</h2>
					</p>

					{% for actor in program.actors %}
						<div class='actors'>
							<a href="{{ path('actor_show', { 'id': actor.id } ) }}">
								{{ actor.name }}</a>
						</div>
					{% else %}
						Aucun acteur pour cette série
					{% endfor %}
				</div>

			</div>
			<div class="seasons">
				{% for season in seasons %}
					<div>
						
							<h4><a href="{{ path('program_show_season' , { 'slug' : program.slug , 'season_id': season.id }) }}">Saisons :
								{{ season.number }}
							- Année :
							{{ season.year }}</h4></a>
							Description :{{ season.description }}
					</div>
				{% endfor %}
			</div>


		</br>

		<div class='centre'>
			{% if is_granted("ROLE_ADMIN") %}
				<a href="{{ path('program_edit', { 'slug': program.slug} ) }}">Éditer le Programme</a></br>
				<a href="{{ path('season_new') }}">Ajouter Nouvelle saisons</a>
				{{ include('program/_delete_form.html.twig') }}
			{% endif %}
		</div>
	</body>
</div></body>{% endblock %}
